"use strict";class Som{constructor(t,a){this.data={},this.defaultv=a,"object"==typeof t&&t instanceof Som==0?Array.isArray(t)&&t.length>0?t.forEach(function(t){this.data=Object.assign(this.data,JSON.parse(JSON.stringify(t)))}):this.data=Object.assign({},JSON.parse(JSON.stringify(t))):"object"==typeof t&&t instanceof Som==1&&(this.data=Object.assign({},JSON.parse(JSON.stringify(t.data))))}get(t,a){if(void 0===t||""==t)return this.data;if("string"==typeof t){for(var s=t.split("."),r=this.data,e=0;e<s.length&&null!=r;e++)r=Array.isArray(r)&&Math.abs(parseInt(s[e]))<=r.length?parseInt(s[e])<0?r[r.length-Math.abs(parseInt(s[e]))]:r[parseInt(s[e])]:Array.isArray(r)&&Math.abs(parseInt(s[e]))>r.length?a||this.defaultv||void 0:r[s[e]];return r||a||this.defaultv||void 0}}assign(t,a){if(void 0===a&&(a={}),void 0!==t&&""!=t&&"string"==typeof t)for(var s=t.split("."),r=this.data,e=0;e<s.length&&null!=r;e++)if("string"==typeof s[e]&&1==isNaN(s[e]))if(Object(r).hasOwnProperty(s[e]))e==s.length-1?Array.isArray(r[s[e]])?r[s[e]].push(a):r[s[e]]=a:("string"==typeof r[s[e]]&&(r[s[e]]={}),r=r[s[e]]);else if(e==s.length-1){if("object"!=typeof r)return;r[s[e]]=a}else isNaN(s[e+1])?r[s[e]]={}:r[s[e]]=[],r=r[s[e]];else"string"==typeof s[e]&&0==isNaN(s[e])&&(Array.isArray(r)&&Math.abs(s[e])<r.length?e==s.length-1?r[s[e]]=a:r=r[s[e]]:Array.isArray(r)&&s[e]>=r.length&&(e==s.length-1?r.push(a):(r.push({}),r=r[r.length-1])));else"object"==typeof t&&(this.data=Object.assign(this.data,t));return this.data}merge(t,a){if(void 0===a||""==a)return this.data=Object.assign(this.data,JSON.parse(JSON.stringify(t))),this.data;for(var s=a.split("."),r=this.data,e=0;e<s.length&&null!=r;e++)r=Array.isArray(r)&&Math.abs(parseInt(s[e]))<=r.length?parseInt(s[e])<0?r[r.length-Math.abs(parseInt(s[e]))]:r[parseInt(s[e])]:Array.isArray(r)&&Math.abs(parseInt(s[e]))>r.length?this.defaultv||void 0:r[s[e]];if(void 0!==r||r!=this.defaultv){if(Array.isArray(r)&&Array.isArray(t))t.forEach(function(t){r.push(t)});else{var i=Object.assign(r,JSON.parse(JSON.stringify(t)));this.data=this.assign(a,i)}return this.data}}remove(t,a){if(void 0===a&&(a=!1),""==t||void 0===t)this.clear();else for(var s=t.split("."),r=this.data,e=0;e<s.length&&null!=r;e++)if("string"==typeof s[e]&&1==isNaN(s[e])){if(!Object(r).hasOwnProperty(s[e]))return this.data;e==s.length-1?"object"==typeof r[s[e]]?delete r[s[e]]:a?delete r[s[e]]:r[s[e]]=void 0:r=r[s[e]]}else if("string"==typeof s[e]&&0==isNaN(s[e])){if(!(Array.isArray(r)&&Math.abs(s[e])<r.length))return this.data;if(e==s.length-1)return r.splice(s[e],1),this.data;r=r[s[e]]}}clear(){this.data={}}}